{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport InputModal from \"../components/InputModal\";\nimport Header from \"../components/Header\";\nimport ListItems from \"../components/ListItems\";\nimport { backendUrl } from \"../constants/constants\";\n\nvar Main = function Main() {\n  var DUMMY = [{\n    title: \"Get some snacks\",\n    date: \"30 Nov 2021\",\n    key: \"1\"\n  }, {\n    title: \"Learn React JS\",\n    date: \"30 Nov 2021\",\n    key: \"2\"\n  }, {\n    title: \"Buy coffee\",\n    date: \"30 Nov 2021\",\n    key: \"3\"\n  }];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      todos = _useState2[0],\n      setTodos = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalVisible = _useState4[0],\n      setModalVisible = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      todoInputValue = _useState6[0],\n      setTodoInputValue = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      todoToBeEdited = _useState8[0],\n      setTodoToBeEdited = _useState8[1];\n\n  useEffect(function _callee() {\n    var response, data, newTodos;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(backendUrl + \"item/user/61a1b9f35080ccd48dbb6f7d\"));\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            data = _context.sent;\n            newTodos = data.items.map(function (i) {\n              return {\n                title: i.title,\n                date: i.dateTime,\n                key: i.id\n              };\n            });\n            setTodos(newTodos);\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  }, [todos]);\n\n  function handleAddTodo(todo) {\n    var newTodos = [].concat(_toConsumableArray(todos), [todo]);\n    setTodos(newTodos);\n    setModalVisible(false);\n  }\n\n  var handleEditTodo = function handleEditTodo(editedTodo) {\n    var newTodos = _toConsumableArray(todos);\n\n    var todoIndex = todos.findIndex(function (todo) {\n      return todo.key === editedTodo.key;\n    });\n    newTodos.splice(todoIndex, 1, editedTodo);\n    setTodos(newTodos);\n    setTodoToBeEdited(null);\n    setModalVisible(false);\n  };\n\n  var handleTriggerEdit = function handleTriggerEdit(item) {\n    setTodoToBeEdited(item);\n    setModalVisible(true);\n    setTodoInputValue(item.title);\n  };\n\n  var handleClearTodos = function handleClearTodos() {\n    setTodos([]);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Header, {\n    onClearTodos: handleClearTodos\n  }), React.createElement(ListItems, {\n    todos: todos,\n    setTodos: setTodos,\n    handleTriggerEdit: handleTriggerEdit\n  }), React.createElement(InputModal, {\n    modalVisible: modalVisible,\n    setModalVisible: setModalVisible,\n    todoInputValue: todoInputValue,\n    setTodoInputValue: setTodoInputValue,\n    handleAddTodo: handleAddTodo,\n    todoToBeEdited: todoToBeEdited,\n    setTodoToBeEdited: setTodoToBeEdited,\n    handleEditTodo: handleEditTodo,\n    todos: todos\n  }));\n};\n\nexport default Main;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});","map":{"version":3,"sources":["C:/Users/Vanzyle/OneDrive - EY/Desktop/Projects/ToDoApp/frontend/screens/Main.js"],"names":["React","useState","useEffect","InputModal","Header","ListItems","backendUrl","Main","DUMMY","title","date","key","todos","setTodos","modalVisible","setModalVisible","todoInputValue","setTodoInputValue","todoToBeEdited","setTodoToBeEdited","fetch","response","json","data","newTodos","items","map","i","dateTime","id","console","log","handleAddTodo","todo","handleEditTodo","editedTodo","todoIndex","findIndex","splice","handleTriggerEdit","item","handleClearTodos","styles","StyleSheet","create","container","flex","backgroundColor","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { StyleSheet, Text, View } from \"react-native\";\r\nimport InputModal from \"../components/InputModal\";\r\nimport Header from \"../components/Header\";\r\nimport ListItems from \"../components/ListItems\";\r\nimport { backendUrl } from \"../constants/constants\";\r\n\r\nconst Main = () => {\r\n  // IMPORTANT - The Swipe View needs a \"key\" attribute\r\n  const DUMMY = [\r\n    {\r\n      title: \"Get some snacks\",\r\n      date: \"30 Nov 2021\",\r\n      key: \"1\",\r\n    },\r\n    {\r\n      title: \"Learn React JS\",\r\n      date: \"30 Nov 2021\",\r\n      key: \"2\",\r\n    },\r\n    {\r\n      title: \"Buy coffee\",\r\n      date: \"30 Nov 2021\",\r\n      key: \"3\",\r\n    },\r\n  ];\r\n\r\n  const [todos, setTodos] = useState([]);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [todoInputValue, setTodoInputValue] = useState();\r\n  const [todoToBeEdited, setTodoToBeEdited] = useState(null);\r\n\r\n  useEffect(async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `${backendUrl}item/user/61a1b9f35080ccd48dbb6f7d`\r\n      );\r\n      const data = await response.json();\r\n      const newTodos = data.items.map((i) => {\r\n        return {\r\n          title: i.title,\r\n          date: i.dateTime,\r\n          key: i.id,\r\n        };\r\n      });\r\n\r\n      setTodos(newTodos);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }, [todos]);\r\n\r\n  // Function to add a To Do\r\n  function handleAddTodo(todo) {\r\n    const newTodos = [...todos, todo];\r\n    setTodos(newTodos);\r\n    setModalVisible(false);\r\n  }\r\n\r\n  // Function to edit a Todo\r\n  const handleEditTodo = (editedTodo) => {\r\n    const newTodos = [...todos];\r\n    const todoIndex = todos.findIndex((todo) => todo.key === editedTodo.key);\r\n    newTodos.splice(todoIndex, 1, editedTodo);\r\n    setTodos(newTodos);\r\n    setTodoToBeEdited(null);\r\n    setModalVisible(false);\r\n  };\r\n\r\n  const handleTriggerEdit = (item) => {\r\n    setTodoToBeEdited(item);\r\n    setModalVisible(true);\r\n    setTodoInputValue(item.title);\r\n  };\r\n\r\n  // Clear All Todos\r\n  const handleClearTodos = () => {\r\n    setTodos([]);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header onClearTodos={handleClearTodos} />\r\n      <ListItems\r\n        todos={todos}\r\n        setTodos={setTodos}\r\n        handleTriggerEdit={handleTriggerEdit}\r\n      />\r\n      <InputModal\r\n        modalVisible={modalVisible}\r\n        setModalVisible={setModalVisible}\r\n        todoInputValue={todoInputValue}\r\n        setTodoInputValue={setTodoInputValue}\r\n        handleAddTodo={handleAddTodo}\r\n        todoToBeEdited={todoToBeEdited}\r\n        setTodoToBeEdited={setTodoToBeEdited}\r\n        handleEditTodo={handleEditTodo}\r\n        todos={todos}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#fff\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}